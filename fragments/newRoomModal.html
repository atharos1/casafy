<div class="modal fade" id="newRoomModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-notify modal-warning" role="document">
        <!--Content-->
        <div class="modal-content">
            <!--Header-->
            <div class="modal-header text-center">
                <h4 class="modal-title white-text w-100 font-weight-bold py-2">Nueva habitaci√≥n</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true" class="white-text">&times;</span>
                </button>
            </div>

            <!--Body-->
            <div class="modal-body">
                <form>
                    <div class="md-form mb-5">
                        <i class="fa fa-edit prefix grey-text"></i>
                        <input type="text" id="newRoom_name" class="form-control validate">
                        <label data-error="wrong" data-success="right" for="newRoom_name">Nombre</label>
                    </div>
                </form>
            </div>

            <!--Footer-->
            <div class="modal-footer justify-content-center">
                <a type="button" class="btn btn-outline-danger waves-effect" data-dismiss="modal">Cancelar</a>
                <a type="button" class="btn btn-outline-warning waves-effect" onclick="createNewRoom()">Crear <i class="fa fa-paper-plane-o ml-1"></i></a>
            </div>
        </div>
        <!--/.Content-->
    </div>
</div>

<script>
    function createNewRoom() {
        var room = {
            name: $("#newRoom_name").val(),
            meta: "{\"isFavorite\":false,\"image\":\"rooms/kitchen.jpg\"}"
        };

        //TODO: MOSTRAR LOADER POR SI NOS CORTAN LA CONEXION EN EL PROCESO

        api.rooms
            .create(room)
            .then(data => {
                window.location.href = "room.html?id=" + data.room.id;
            })
            .catch(error => {
                alert("Request failed: " + error);
            });

    }
</script>